     1â†’# LangMem
     2â†’
     3â†’LangMem helps agents learn and adapt from their interactions over time.
     4â†’
     5â†’It provides tooling to extract important information from conversations, optimize agent behavior through prompt refinement, and maintain long-term memory.
     6â†’
     7â†’It offers both functional primitives you can use with any storage system and native integration with LangGraph's storage layer.
     8â†’
     9â†’This lets your agents continuously improve, personalize their responses, and maintain consistent behavior across sessions.
    10â†’
    11â†’## Key features
    12â†’
    13â†’- ğŸ§© **Core memory API** that works with any storage system
    14â†’- ğŸ§  **Memory management tools** that agents can use to record and search information during active conversations "in the hot path"
    15â†’- âš™ï¸ **Background memory manager** that automatically extracts, consolidates, and updates agent knowledge
    16â†’- âš¡ **Native integration with LangGraph's Long-term Memory Store**, available by default in all LangGraph Platform deployments
    17â†’
    18â†’## Installation
    19â†’
    20â†’```bash
    21â†’pip install -U langmem
    22â†’```
    23â†’
    24â†’Configure your environment with an API key for your favorite LLM provider:
    25â†’
    26â†’```bash
    27â†’export ANTHROPIC_API_KEY="sk-..."  # Or another supported LLM provider
    28â†’```
    29â†’
    30â†’## Creating an Agent
    31â†’
    32â†’Here's how to create an agent that actively manages its own long-term memory in just a few lines:
    33â†’
    34â†’```python
    35â†’# Import core components (1)
    36â†’from langgraph.prebuilt import create_react_agent
    37â†’from langgraph.store.memory import InMemoryStore
    38â†’from langmem import create_manage_memory_tool, create_search_memory_tool
    39â†’
    40â†’# Set up storage (2)
    41â†’store = InMemoryStore(
    42â†’    index={
    43â†’        "dims": 1536,
    44â†’        "embed": "openai:text-embedding-3-small",
    45â†’    }
    46â†’) 
    47â†’
    48â†’# Create an agent with memory capabilities (3)
    49â†’agent = create_react_agent(
    50â†’    "anthropic:claude-3-5-sonnet-latest",
    51â†’    tools=[
    52â†’        # Memory tools use LangGraph's BaseStore for persistence (4)
    53â†’        create_manage_memory_tool(namespace=("memories",)),
    54â†’        create_search_memory_tool(namespace=("memories",)),
    55â†’    ],
    56â†’    store=store,
    57â†’)
    58â†’```
    59â†’
    60â†’1. The memory tools work in any LangGraph app. Here we use [`create_react_agent`](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.create_react_agent) to run an LLM with tools, but you can add these tools to your existing agents or build [custom memory systems](concepts/conceptual_guide.md#functional-core) without agents.
    61â†’
    62â†’2. [`InMemoryStore`](https://langchain-ai.github.io/langgraph/reference/store/#langgraph.store.memory.InMemoryStore) keeps memories in process memoryâ€”they'll be lost on restart. For production, use the [AsyncPostgresStore](https://langchain-ai.github.io/langgraph/reference/store/#langgraph.store.postgres.AsyncPostgresStore) or a similar DB-backed store to persist memories across server restarts.
    63â†’
    64â†’3. The memory tools ([`create_manage_memory_tool`](reference/tools.md#langmem.create_manage_memory_tool) and [`create_search_memory_tool`](reference/tools.md#langmem.create_search_memory_tool)) let you control what gets stored. The agent extracts key information from conversations, maintains memory consistency, and knows when to search past interactions. See [Memory Tools](guides/memory_tools.md) for configuration options.
    65â†’
    66â†’Then use the agent:
    67â†’
    68â†’```python
    69â†’# Store a new memory (1)
    70â†’agent.invoke(
    71â†’    {"messages": [{"role": "user", "content": "Remember that I prefer dark mode."}]}
    72â†’)
    73â†’
    74â†’# Retrieve the stored memory (2)
    75â†’response = agent.invoke(
    76â†’    {"messages": [{"role": "user", "content": "What are my lighting preferences?"}]}
    77â†’)
    78â†’print(response["messages"][-1].content)
    79â†’# Output: "You've told me that you prefer dark mode."
    80â†’```
    81â†’
    82â†’1. The agent gets to decide what and when to store the memory. No special commands neededâ€”just chat normally and the agent uses [`create_manage_memory_tool`](reference/tools.md#langmem.create_manage_memory_tool) to store relevant details.
    83â†’
    84â†’2. The agent maintains context between chats. When you ask about previous interactions, the LLM can invoke [`create_search_memory_tool`](reference/tools.md#langmem.create_search_memory_tool) to search for memories with similar content. See [Memory Tools](guides/memory_tools.md) to customize memory storage and retrieval, and see the [hot path quickstart](https://langchain-ai.github.io/langmem/hot_path_quickstart) for a more complete example on how to include memories without the agent having to explicitly search.
    85â†’
    86â†’The agent can now store important information from conversations, search its memory when relevant, and persist knowledge across conversations.
    87â†’
    88â†’## Next Steps
    89â†’
    90â†’For more examples and detailed documentation:
    91â†’
    92â†’- [Hot Path Quickstart](https://langchain-ai.github.io/langmem/hot_path_quickstart) - Learn how to let your LangGraph agent manage its own memory "in the hot path"
    93â†’- [Background Quickstart](https://langchain-ai.github.io/langmem/background_quickstart) - Learn how to use a memory manager "in the background"
    94â†’- [Core Concepts](https://langchain-ai.github.io/langmem/concepts/conceptual_guide) - Learn key ideas
    95â†’- [API Reference](https://langchain-ai.github.io/langmem/reference) - Full function documentation
    96â†’- Build RSI ğŸ™‚ 

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
